:root{
  --bg:#f7f8fb;
  --surface:#fff;
  --text:#0f172a;
  --muted:#64748b;
  --line:#e9edf3;
  --primary:#7c5cff;
  --primary-2:#b6a5ff;
  --good:#10b981;
  --warn:#f59e0b;
  --bad:#ef4444;
  --ring: rgba(124,92,255,.2);
  --shadow: 0 10px 24px rgba(8,15,52,.06);
  --radius: 16px;
    --header-h: 80px;        
}

* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body { margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; color:var(--text); background:var(--bg); }

/* Header */
/* Full-bleed sticky header */
.sp-header{
  position: sticky; top:0; z-index:50;
  display:flex; align-items:center; gap:12px;
  background:var(--surface); border-bottom:1px solid var(--line);

  /* make it span the full viewport width even if parent is centered */
  width:100vw;
  margin-left:calc(50% - 50vw);
  margin-right:calc(50% - 50vw);
  padding:12px 24px;
}

/* order: brand left → actions → arrow at far right */
.sp-brand{ display:flex; align-items:center; gap:10px; }
.sp-logo-img{
  width:96px;
  height:96px;
  object-fit:contain;
  border-radius:12px;      /* optional */
}
.sp-header-actions{ order:2; margin-left:auto; display:flex; gap:12px; }
.sp-back{
  order:3;
  width:44px; height:44px; border-radius:14px;
  border:1px solid var(--line); background:#fff;
  display:grid; place-items:center; font-size:18px; line-height:1; cursor:pointer;
}

/* same size for Notify & Settings */
.sp-header .sp-btn{
  height:44px; min-width:120px; padding:0 16px; border-radius:14px;
  display:inline-flex; align-items:center; justify-content:center;
}
.sp-header .sp-btn.ghost{
  background:#fff; color:var(--primary);
  border:1px solid var(--primary-2); box-shadow:none;
}

/* mobile tweak */
@media (max-width:560px){
  .sp-header .sp-btn{ min-width:100px; }
}

/* Buttons */
.sp-btn{
  --bg:var(--primary);
  border:0; background:var(--bg); color:#fff; font-weight:600; cursor:pointer;
  padding:10px 14px; border-radius:12px; box-shadow: var(--shadow);
}
.sp-btn.ghost{
  --bg:#fff; color:var(--primary); border:1px solid var(--primary-2); box-shadow:none;
}
.sp-btn:active{ transform: translateY(1px); }

/* Layout */
.sp-container{
  max-width:1200px; margin:24px auto; padding:0 16px;
  display:grid; grid-template-columns:320px 1fr; gap:24px;
   flex: 1;                                    /* fill remaining height under header */
  display: grid;                              /* keeps your grid */
  grid-template-columns: 320px 1fr;
  gap: 24px;
  max-width: 1200px;
  margin: 24px auto;
  padding: 0 16px;
}
@media (max-width: 980px){
  .sp-container{ grid-template-columns: 1fr; }
}
.sp-page{
  min-height: 100dvh;                         /* modern mobile */
  min-height: 100vh;                          /* fallback */
  display: flex;
  flex-direction: column;
}

/* Cards */
.sp-card{
  background:var(--surface); border:1px solid var(--line);
  border-radius:var(--radius); box-shadow: var(--shadow); padding:16px; gap: 24px;
}
.sp-card h3{ margin:0 0 10px; margin-top: 10px; }
.sp-card + .sp-card { margin-top: 20px; }
/* Mood tracker boxes */
.sp-moods{
  display:flex;
  gap:12px;
  justify-content:center;
  flex-wrap:wrap;
}
.sp-mood{
  width:56px;
  height:56px;
  padding:0;
  display:flex;
  align-items:center;
  justify-content:center;
  border:1px solid var(--line);
  border-radius:14px;
  background:#fff;
  font-size:26px;
  line-height:1;
  box-shadow:var(--shadow);
}
.sp-mood.active{ outline:3px solid var(--ring); outline-offset:2px; }

.sp-card h4{ margin:0 0 10px; font-size:14px; color:var(--muted); }

/* Sidebar profile */
.sp-profile-card{ padding-top:20px; }
.sp-avatar-wrap{ display:grid; place-items:center; position:relative; }
.sp-avatar{
  width:120px; height:120px; border-radius:50%; object-fit:cover;
  border:6px solid #fff; box-shadow: var(--shadow);
}
.sp-upload{ position:absolute; bottom:0; right:46px; background:#fff; border:1px solid var(--line);
  padding:4px 10px; font-size:12px; border-radius:10px; cursor:pointer;
}
.sp-upload input{ display:none; }

.sp-name{ margin:10px 0 2px; font-size:20px; }
.sp-sub{ color:var(--muted); font-size:13px; }
.sp-dx{ display:flex; flex-wrap:wrap; gap:8px; margin-top:10px; justify-content: center;}

.sp-stats{
  margin:14px 0 0; display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px;
  background:#fafbfe; border:1px solid var(--line); border-radius:12px; padding:10px;
}
.sp-stat-val{ font-weight:800; }
.sp-stat-label{ color:var(--muted); font-size:12px; }

.sp-card-sec{ border-top:1px dashed var(--line); margin-top:14px; padding-top:14px; }
.sp-kv{ display:flex; justify-content:space-between; gap:10px; padding:6px 0; }
.sp-kv span:first-child{ color:var(--muted); }

/* Tabs */
.sp-tabs{ display:flex; gap:8px; background:var(--surface); position:sticky; top:64px; z-index:5; padding:8px 0; }
.sp-tab{
  border:1px solid var(--line); background:#fff; padding:10px 12px; border-radius:12px; cursor:pointer; font-weight:600;
}
.sp-tab.active{ color:#fff; background:var(--primary); border-color:var(--primary); }

/* Grid & rows */
.sp-grid{ display:grid; grid-template-columns:1fr 1fr; gap:24px; }
@media (max-width: 980px){ .sp-grid{ grid-template-columns:1fr; } }

.sp-grid-courses{ display:grid; grid-template-columns:1fr 1fr; gap:20px; }
@media (max-width: 900px){ .sp-grid-courses{ grid-template-columns:1fr; } }

.sp-list{ margin:0; padding-left:18px; display:grid; gap:8px; }
.sp-list-rows{ display:grid; gap:14px; }
.sp-row{
  display:grid; grid-template-columns: 1fr auto; gap:16px; align-items:center;
  background:#fff; border:1px solid var(--line); border-radius:12px; padding:12px;
}
.sp-row-title{ font-weight:700; }
.sp-row-sub{ color:var(--muted); font-size:12px; margin:6px 0 8px; }

/* KPI Rings */
.sp-kpis{ display:grid; grid-template-columns:repeat(3, 1fr); gap:12px; align-items:center; }
@media (max-width: 620px){ .sp-kpis{ grid-template-columns:1fr; } }

.sp-ring{
  --val: 0%;
  width:110px; height:110px; border-radius:50%;
  display:grid; place-items:center; position:relative;
  background: conic-gradient(var(--primary) var(--val), #e8ecf2 0);
  margin:8px auto;
}
.sp-ring::before{
  content:""; position:absolute; inset:8px; background:var(--surface); border-radius:50%;
  box-shadow: inset 0 0 0 1px var(--line);
}
.sp-ring-val{ position:relative; font-weight:800; font-size:18px; }
.sp-ring-label{ position:absolute; bottom:-18px; font-size:12px; color:var(--muted); width:100%; text-align:center; }

/* Wallet */
.sp-wallet{
  grid-column: 1 / -1; display:flex; align-items:center; gap:12px;
  padding:12px; border:1px dashed var(--primary-2); border-radius:12px; background:#fbfaff;
}
.sp-wallet-stars{
  width:36px; height:36px; border-radius:12px; display:grid; place-items:center; background:#fff4c7; border:1px solid #ffe18a;
}
.sp-wallet-val{ font-weight:800; }
.sp-wallet-sub{ font-size:12px; color:var(--muted); }

/* Schedule */
.sp-schedule{ list-style:none; margin:0; padding:0; display:grid; gap:10px; }
.sp-schedule li{
  display:flex; align-items:center; gap:10px; padding:10px; border:1px solid var(--line); border-radius:12px; background:#fff;
}
.sp-schedule .time{
  font-variant-numeric: tabular-nums;
  padding:4px 8px; border-radius:8px; background:#f4f6fd; border:1px solid var(--line);
  color:#111827; font-weight:700; width:64px; text-align:center;
}
.sp-schedule .activity{ color:#111827; }

/* Sensory */
.sp-sensory{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:12px; }
@media (max-width: 980px){ .sp-sensory{ grid-template-columns:1fr; } }

/* Chips */
.sp-chips{ display:flex; flex-wrap:wrap; gap:8px; }
.sp-chip{
  display:inline-flex; align-items:center; gap:6px; padding:8px 10px;
  border-radius:999px; background:#f6f7fb; border:1px solid var(--line); font-size:13px;
}
.sp-chip.accent{ background:#f2edff; border-color:var(--primary-2); color:#3f2aa9; }
.sp-chip.good{ background:#ecfdf5; border-color:#bbf7d0; color:#065f46; }
.sp-chip.warn{ background:#fffbeb; border-color:#fde68a; color:#713f12; }
.sp-chip.btn{ cursor:pointer; }

/* Mood */
.sp-moods{ display:flex; gap:8px; }
.sp-mood{
  width:42px; height:42px; border-radius:12px; border:1px solid var(--line);
  background:#fff; cursor:pointer; font-size:20px; display:grid; place-items:center;
}
.sp-mood.active{ outline:3px solid var(--ring); }

/* Courses */
.sp-course{
  display:grid; grid-template-columns: 110px 1fr; gap:14px; border:1px solid var(--line); border-radius:14px; background:#fff; overflow:hidden;
}
.sp-course-media{
  background: radial-gradient(100px 60px at 50% 30%, #eee, #ddd 60%, #ccc);
  display:grid; place-items:center; position:relative;
}
.sp-course-badge{
  position:absolute; bottom:8px; right:8px; font-size:12px; font-weight:800;
  padding:6px 8px; background:#fff; border:1px solid var(--line); border-radius:10px;
}
.sp-course-body h4{ margin:10px 0 6px; }
.sp-course-sub{ font-size:12px; color:var(--muted); margin-bottom:8px; }
.sp-course-actions{ margin-top:10px; display:flex; gap:8px; }

@media (max-width: 560px){
  .sp-course{ grid-template-columns: 1fr; }
}

/* Bars */
.sp-bar{
  height:10px; background:#f3f4f6; border-radius:999px; border:1px solid var(--line);
  overflow:hidden;
}
.sp-bar-fill{
  height:100%; background: linear-gradient(90deg, var(--primary), #5b22d1);
}

/* Achievements */
.sp-ach-grid{ display:grid; grid-template-columns: repeat(4, 1fr); gap:16px; }
@media (max-width: 980px){ .sp-ach-grid{ grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 560px){ .sp-ach-grid{ grid-template-columns: 1fr; } }
.sp-ach{
  border:1px solid var(--line); border-radius:16px; background:#fff; padding:16px; text-align:center;
}
.sp-badge{
  width:48px; height:48px; border-radius:14px; display:grid; place-items:center;
  margin:0 auto 8px; background:#fff4c7; border:1px solid #ffe18a; font-size:22px;
}
.sp-ach-title{ font-weight:800; }
.sp-ach-sub{ color:var(--muted); font-size:12px; }

/* Settings */
.sp-settings{ display:grid; gap:16px; }
.sp-settings-bar{
  display:flex; align-items:center; justify-content:space-between;
  border:1px solid var(--line); border-radius:12px; padding:10px 12px; background:#fff;
}
.sp-settings-title{ font-weight:800; }
.sp-settings-actions{ display:flex; gap:8px; }

.sp-form{ display:grid; gap:12px; border:1px solid var(--line); border-radius:12px; padding:14px; background:#fff; }
.sp-form.editing{ box-shadow: var(--shadow); }
.sp-field{ display:grid; gap:6px; }
.sp-field-grid{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
@media (max-width: 560px){ .sp-field-grid{ grid-template-columns:1fr; } }
.sp-field label{ font-size:12px; color:var(--muted); }
.sp-field input{
  padding:10px 12px; border-radius:10px; border:1px solid var(--line); background:#fff;
}
.sp-field input:disabled{ background:#f8fafc; color:#6b7280; }

/* Switch */
.sp-switch{ position:relative; width:46px; height:28px; display:inline-block; }
.sp-switch input{ opacity:0; width:0; height:0; }
.sp-switch span{
  position:absolute; inset:0; background:#e5e7eb; border:1px solid var(--line); border-radius:999px; transition:.2s;
}
.sp-switch span::after{
  content:""; position:absolute; left:3px; top:50%; transform:translateY(-50%);
  width:20px; height:20px; background:#fff; border-radius:50%; box-shadow: var(--shadow); transition:.2s;
}
.sp-switch input:checked + span{ background:#d1fae5; border-color:#a7f3d0; }
.sp-switch input:checked + span::after{ left:22px; }

/* Notes */
.sp-note{ background:#fffdf3; border:1px solid #fde68a; padding:10px; border-radius:10px; }

/* Utilities */
.sp-main{ display:flex; flex-direction:column; gap:16px; }

/* Bigger logo + header */
:root{ --header-h: 104px; }            /* was 72px */

.sp-logo-img{
  width: 96px;
  height: 96px;
  object-fit: contain;
  border-radius: 12px;
  flex-shrink: 0;
}

/* keep offsets correct */
.sp-tabs{ top: var(--header-h); }
@supports(padding-top: env(safe-area-inset-top)){
  .sp-header{ height: calc(var(--header-h) + env(safe-area-inset-top)); }
  .sp-page{ padding-top: calc(var(--header-h) + env(safe-area-inset-top)); }
  .sp-tabs{ top: calc(var(--header-h) + env(safe-area-inset-top)); }
}

/* optional: smaller on phones */
@media (max-width:560px){
  :root{ --header-h: 84px; }
  .sp-logo-img{ width: 64px; height: 64px; }
}
