:root{
  --bg:#f7f6fb; --card:#fff; --text:#111; --muted:#6b6b6b; --border:#ece9f6;
  --sidebar:#0c1a1f; --sidebar-2:#0f2228;
  --primary:#6a32ff; --primary-10:rgba(106,50,255,.1); --primary-20:rgba(106,50,255,.2);
}

/* ===== LAYOUT WRAP ===== */
.app-wrap{display:grid; grid-template-columns:88px 1fr; min-height:100vh; background:var(--bg); color:var(--text);}

/* ===== LEFT SIDEBAR (persistent) ===== */
.lsb{background:linear-gradient(180deg,var(--sidebar),var(--sidebar-2));
     display:flex; flex-direction:column; align-items:center; padding:16px 0; gap:16px;}
.lsb-logo{width:44px; height:44px; border-radius:10px; display:grid; place-items:center;
          background:linear-gradient(135deg,#5b22d1,#7d4cff); color:#fff; font-weight:900; text-decoration:none;}
.lsb-nav{display:flex; flex-direction:column; gap:10px; margin-top:8px;}
.lsb-item{width:48px; height:48px; display:grid; place-items:center; border-radius:12px;
          color:#c9d3da; text-decoration:none; transition:transform .15s, background .15s, color .15s;}
.lsb-item:hover{background:rgba(255,255,255,.06); transform:translateY(-1px);}
.lsb-item.is-active{background:var(--primary-20); color:#fff; outline:2px solid var(--primary-10);}

/* simple icon seeds */
.i{display:inline-block;}
.i-cap, .i-chat, .i-signal{width:20px; height:20px; border-radius:5px; background:currentColor; opacity:.95;}
.i-cap{clip-path: polygon(0 60%,100% 60%,100% 80%,0 80%);}
.i-chat{clip-path: polygon(5% 10%,95% 10%,95% 75%,70% 75%,55% 90%,55% 75%,5% 75%);}
.i-signal{clip-path: polygon(10% 80%,30% 40%,50% 65%,70% 25%,90% 55%);}

.lsb-profile{margin-top:auto; width:40px; height:40px; border-radius:50%;
             background:#ffe08a; border:0; cursor:pointer}

/* ===== PAGE AREA ===== */
.msg{padding:28px 32px 48px;}
.msg-head{display:flex; align-items:center; justify-content:space-between; margin-bottom:22px;}
.msg-head h1{font-size:24px; margin:0;}

.msg-actions{display:flex; align-items:center; gap:16px;}
.msg-search{display:flex; align-items:center; gap:8px; background:#fff; border:1px solid var(--border);
            border-radius:999px; padding:10px 14px; min-width:340px; box-shadow:0 1px 2px rgba(0,0,0,.04);}
.msg-search input{border:0; outline:0; width:100%; font-size:14px; color:var(--text);}
.i-search{width:16px; height:16px; border-radius:4px; background:currentColor; color:#9aa0a6;
          clip-path: polygon(35% 35%,65% 35%,65% 65%,35% 65%); box-shadow:8px 8px 0 -6px currentColor}

.btn-primary{display:inline-flex; align-items:center; gap:8px; border:0; padding:10px 16px; border-radius:12px;
             background:var(--primary); color:#fff; font-weight:600; cursor:pointer; box-shadow:0 6px 16px rgba(106,50,255,.25);}
.i-plus{width:12px; height:12px; background:#fff; clip-path: polygon(45% 0,55% 0,55% 45%,100% 45%,100% 55%,55% 55%,55% 100%,45% 100%,45% 55%,0 55%,0 45%,45% 45%);}

/* ===== LIST ===== */
.msg-list{display:flex; flex-direction:column; gap:10px;}
.msg-row{display:grid; grid-template-columns:56px 1fr auto; align-items:center; gap:14px;
         background:var(--card); border:1px solid var(--border); border-radius:16px;
         padding:12px 14px; text-decoration:none; color:inherit; transition:box-shadow .15s, transform .05s;}
.msg-row:hover{box-shadow:0 8px 20px rgba(0,0,0,.06);}
.msg-avatar img{width:44px; height:44px; border-radius:50%; object-fit:cover;}
.msg-title{font-weight:700; line-height:1.2; margin:0;}
.msg-meta{font-size:13px; color:var(--muted); margin-top:2px;}

.msg-right{text-align:right;}
.msg-badge{display:inline-flex; align-items:center; gap:6px; font-weight:700; background:var(--primary-10);
           border:1px solid var(--primary-20); padding:6px 10px; border-radius:999px; color:#3b2a87;}
.i-reply{width:14px; height:14px; background:currentColor; clip-path: polygon(0 40%,40% 40%,40% 20%,80% 50%,40% 80%,40% 60%,0 60%);}
.msg-sub{font-size:12px; color:var(--muted); margin-top:4px;}
.msg-main { 
  text-align: left; 
}
/* THREAD LAYOUT */
.thread{padding:24px 28px 96px;}
.thread-head{
  display:flex; align-items:center; justify-content:space-between;
  margin-bottom:14px;
}
.thread-title{display:flex; align-items:center; gap:12px;}
.thread-title h2{margin:0; font-size:20px;}
.back{display:grid; place-items:center; width:36px; height:36px; border-radius:10px;
  text-decoration:none; background:#fff; border:1px solid var(--border);}

.muted{color:var(--muted); margin:2px 0 0; font-size:13px;}

.small{padding:8px 12px; border-radius:10px; font-size:14px}

/* CHAT AREA */
.chat{display:flex; flex-direction:column; gap:10px; padding:8px 0;}

/* bubbles */
.bubble{max-width:64ch; padding:10px 12px; border-radius:14px; position:relative;}
.bubble.teacher{align-self:flex-start; background:#ffffff; border:1px solid var(--border);}
.bubble.student{align-self:flex-end; background:var(--primary-10); border:1px solid var(--primary-20);}
.bubble-text{white-space:pre-wrap; line-height:1.4;}
.bubble-meta{font-size:12px; color:var(--muted); margin-top:6px}

/* COMPOSER */
.composer{
  position:sticky; bottom:0; left:0; right:0;
  display:flex; gap:10px; background:linear-gradient(180deg, rgba(247,246,251,0), #f7f6fb 60%);
  padding:12px 0; margin-top:8px;
}
.composer input{
  flex:1; border:1px solid var(--border); background:#fff; border-radius:12px;
  padding:12px 14px; outline:none; font-size:14px;
}
